import{d as I,r as y,D as T,k as w,z as x,a as h,c as N,w as n,b as l,Z as d,I as C,J as B,K as E,M as S,_ as U}from"./index-7c55f663.js";import{C as q}from"./index-4b486b9e.js";import{y as F}from"./index-6ed85a75.js";import{f as O}from"./Issues-d1060287.js";const j=I({__name:"IssuesWorkEditDialog",props:{visible:{type:Boolean,default:!1},formDate:{}},emits:["update:visible","done"],setup(b,{emit:c}){const i=b,u=y(),f={issuesWorkTypeId:0,issuesWorkTypeName:"",issuesWorkTypeDescription:"",sortId:0},o=T({...f}),g=y({sysTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),p=w({get(){return i.visible},set(s){c("update:visible",s)}});function k(){debugger;i.formDate?Object.assign(o,i.formDate):Object.assign(o,f)}x(()=>i.visible,(s,e)=>{s&&k(),console.log(s,e)});function m(){var s;u.value.reset(),(s=u.value)==null||s.clearValidate(),p.value=!1}function v(){u.value.validate((s,e,_)=>{console.log("提交："+JSON.stringify(e)),s&&d.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async r=>{try{const t=await O(e);if(!t||!t.isSuccess){d.confirm(t.message||"操作失败",{icon:2});return}d.msg(t.message||"操作成功",{icon:1}),c("done"),m()}catch{}finally{d.close(r)}}})})}return(s,e)=>{const _=C,r=B,t=F,D=q,V=E,W=S;return h(),N(W,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a),resize:!0,title:"问题工作类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>v()},{text:"关闭",callback:()=>m()}],onClose:m},{default:n(()=>[l(V,{ref_key:"refForm",ref:u,pane:!0,model:o,rules:g.value,style:{padding:"10px"}},{default:n(()=>[l(r,{label:"类型名称",prop:"issuesWorkTypeName",required:"","label-width":100,style:{width:"100%"}},{default:n(()=>[l(_,{modelValue:o.issuesWorkTypeName,"onUpdate:modelValue":e[0]||(e[0]=a=>o.issuesWorkTypeName=a),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),l(r,{label:"排序号",prop:"sortId",required:"","label-width":100,style:{width:"100%"}},{default:n(()=>[l(t,{modelValue:o.sortId,"onUpdate:modelValue":e[1]||(e[1]=a=>o.sortId=a)},null,8,["modelValue"])]),_:1}),l(r,{label:"描述信息",prop:"issuesWorkTypeDescription"},{default:n(()=>[l(D,{placeholder:"请输入描述信息",modelValue:o.issuesWorkTypeDescription,"onUpdate:modelValue":e[2]||(e[2]=a=>o.issuesWorkTypeDescription=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const K=U(j,[["__scopeId","data-v-6ceea91f"]]);export{K as default};
