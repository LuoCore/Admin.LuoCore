import{u as k}from"./index-e05fa4da.js";import{d as B,r as m,z as w,o as W,a as F,c as N,w as r,b as s,Z as p,J as G,T as E,K as P,_ as Z}from"./index-7492a36a.js";/* empty css              */import{A as $,x as h}from"./index-399790ac.js";import{a as z,b as A}from"./Basic-b53b3ec4.js";import{b as J,a as K}from"./Issues-60b3be24.js";import"./index2-345a5c0c.js";import"./index2-27793e30.js";const L=B({__name:"IssuesInfoSearchForm",props:{formData:{}},emits:["update:formSearchParamUpdate"],setup(M,{expose:U,emit:d}){const i=m(),c=new Date().toLocaleDateString(),v=m([`${c} 00:00:00`,`${c} 23:59:59`]),f=m([]),I=m([]),y=m([]),_=m([]),T=m([]),b={systemClientId:0,developerUserId:0,createUserId:0,issuesTypeId:0,issuesWorkTypeId:0,timeType:0,timeStart:"",timeEnd:""},e=m({...b});d("update:formSearchParamUpdate",b);function V(t){e.value.timeStart=t[0],e.value.timeEnd=t[1]}w(e,t=>{d("update:formSearchParamUpdate",t)},{deep:!0});async function C(){const t=await z();if(!t||!t.isSuccess){p.msg((t==null?void 0:t.message)||"获取信息失败",{icon:2});return}I.value=t.responseData.map(o=>({label:o.userName,value:o.userId})),f.value=t.responseData.map(o=>({label:o.userName,value:o.userId}));const a=await J();if(!a||!a.isSuccess||!a.responseData){p.msg((a==null?void 0:a.message)||"获取信息失败",{icon:2});return}y.value=a.responseData.map(o=>({label:o.issuesTypeName,value:o.issuesTypeId}));const l=await K();if(!l||!l.isSuccess||!l.responseData){p.msg((l==null?void 0:l.message)||"获取信息失败",{icon:2});return}_.value=l.responseData.map(o=>({label:o.issuesWorkTypeName,value:o.issuesWorkTypeId}));const n=await A();if(!n||!n.isSuccess||!n.responseData){p.msg((n==null?void 0:n.message)||"获取信息失败",{icon:2});return}T.value=n.responseData.map(o=>({label:o.systemClientName,value:o.systemClientId}))}W(()=>{C()});function x(){var t=i.value.reset();return e.value.developerUserId=0,e.value.createUserId=0,e.value.issuesTypeId=0,e.value.issuesWorkTypeId=0,e.value.timeType=0,e.value.timeStart="",e.value.timeEnd="",t}return U({resetFormData:x}),(t,a)=>{const l=$,n=G,o=h,D=E,S=P,g=k;return F(),N(g,null,{default:r(()=>[s(S,{ref_key:"searchFormRef",ref:i,model:e.value},{default:r(()=>[s(n,{label:"创建人员",prop:"createUserId",mode:"inline"},{default:r(()=>[s(l,{modelValue:e.value.createUserId,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.createUserId=u),options:f.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"开发人员",prop:"developerUserId",mode:"inline"},{default:r(()=>[s(l,{modelValue:e.value.developerUserId,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.developerUserId=u),options:I.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"问题类型",prop:"issuesTypeId",mode:"inline"},{default:r(()=>[s(l,{modelValue:e.value.issuesTypeId,"onUpdate:modelValue":a[2]||(a[2]=u=>e.value.issuesTypeId=u),options:y.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"工作流程",prop:"issuesWorkTypeId",mode:"inline"},{default:r(()=>[s(l,{modelValue:e.value.issuesWorkTypeId,"onUpdate:modelValue":a[3]||(a[3]=u=>e.value.issuesWorkTypeId=u),options:_.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"系统客户",prop:"systemClientId",mode:"inline"},{default:r(()=>[s(l,{modelValue:e.value.systemClientId,"onUpdate:modelValue":a[4]||(a[4]=u=>e.value.systemClientId=u),options:T.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"时间类型",prop:"timeType",mode:"inline",class:"timeClass"},{default:r(()=>[s(l,{modelValue:e.value.timeType,"onUpdate:modelValue":a[5]||(a[5]=u=>e.value.timeType=u),placeholder:"请选择时间类型"},{default:r(()=>[s(o,{value:1,label:"创建时间"}),s(o,{value:2,label:"开始开发时间"}),s(o,{value:3,label:"结束开发时间"})]),_:1},8,["modelValue"]),s(D,{onChange:V,modelValue:v.value,"onUpdate:modelValue":a[6]||(a[6]=u=>v.value=u),range:"",type:"datetime",placeholder:["开始日期","结束日期"]},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})}}});const ae=Z(L,[["__scopeId","data-v-6f742028"]]);export{ae as default};
