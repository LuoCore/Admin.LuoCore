import{d as I,r as y,D as x,k as h,z as k,a as N,c as C,w as i,b as l,Z as d,I as B,J as E,K as U,M as q,_ as F}from"./index-9c77520b.js";import{C as S}from"./index-ff45222d.js";import{y as j}from"./index-481feabf.js";import{e as z}from"./Issues-3f2ad0cb.js";const O=I({__name:"IssuesTypeEditDialog",props:{visible:{type:Boolean,default:!1},formData:{}},emits:["update:visible","done"],setup(b,{emit:c}){const r=b,u=y(),_={issuesTypeId:0,issuesTypeName:"",issuesTypeDescription:"",sortId:0,createTime:new Date},s=x({..._}),v=y({sysTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),p=h({get(){return r.visible},set(a){c("update:visible",a)}});function g(){r.formData?Object.assign(s,r.formData):Object.assign(s,_)}k(()=>r.visible,(a,e)=>{a&&g()});function m(){var a;u.value.reset(),(a=u.value)==null||a.clearValidate(),p.value=!1}function D(){u.value.validate((a,e,f)=>{a&&d.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async n=>{try{const t=await z(e);if(!t||!t.isSuccess){d.confirm(t.message||"创建用户信息失败",{icon:2});return}d.msg(t.message||"操作成功",{icon:1}),c("done"),m()}catch{}finally{d.close(n)}}})})}return(a,e)=>{const f=B,n=E,t=j,T=S,V=U,w=q;return N(),C(w,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),resize:!0,title:"问题类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>D()},{text:"关闭",callback:()=>m()}],onClose:m},{default:i(()=>[l(V,{ref_key:"refForm",ref:u,pane:!0,model:s,rules:v.value,style:{padding:"10px"}},{default:i(()=>[l(n,{label:"类型名称",prop:"issuesTypeName",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(f,{modelValue:s.issuesTypeName,"onUpdate:modelValue":e[0]||(e[0]=o=>s.issuesTypeName=o),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),l(n,{label:"排序号",prop:"sortId",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(t,{modelValue:s.sortId,"onUpdate:modelValue":e[1]||(e[1]=o=>s.sortId=o)},null,8,["modelValue"])]),_:1}),l(n,{label:"描述信息",prop:"issuesTypeDescription"},{default:i(()=>[l(T,{placeholder:"请输入描述信息",modelValue:s.issuesTypeDescription,"onUpdate:modelValue":e[2]||(e[2]=o=>s.issuesTypeDescription=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const M=F(O,[["__scopeId","data-v-1686b88e"]]);export{M as default};
