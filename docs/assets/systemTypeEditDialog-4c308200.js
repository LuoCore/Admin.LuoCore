import{d as w,r as f,D as k,k as I,z as N,a as h,c as B,w as r,b as o,Z as m,aD as C,M as S,N as E,O as U,P as q,_ as F}from"./index-a5a9e71e.js";import{C as O}from"./index-5dca1a49.js";import{y as j}from"./index-9b77b1d7.js";const z=w({__name:"systemTypeEditDialog",props:{visible:{type:Boolean,default:!1},isSub:{type:Boolean,default:!1},editData:{}},emits:["update:visible","done"],setup(b,{emit:c}){const i=b,d=f(),y={systemTypeId:0,systemTypeName:"",systemTypeDescribe:"",sortId:0},a=k({...y}),g=f({systemTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),u=I({get(){return i.visible},set(t){c("update:visible",t)}});function v(){debugger;i.editData?Object.assign(a,i.editData):Object.assign(a,y)}N(()=>i.visible,(t,e)=>{t&&v(),console.log(t,e)});function p(){var t;d.value.reset(),(t=d.value)==null||t.clearValidate(),u.value=!1}function D(){d.value.validate((t,e,_)=>{t&&m.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async n=>{try{const s=await C(e);if(!s||!s.isSuccess){m.confirm(s.message||"创建用户信息失败",{icon:2});return}m.msg(s.message||"操作成功",{icon:1}),c("done"),p()}catch{}finally{m.close(n)}}})})}return(t,e)=>{const _=S,n=E,s=j,T=O,V=U,x=q;return h(),B(x,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l),resize:!0,title:"系统类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>D()},{text:"关闭",callback:()=>p()}],onClose:p},{default:r(()=>[o(V,{ref_key:"refForm",ref:d,pane:!0,model:a,rules:g.value,style:{padding:"10px"}},{default:r(()=>[o(n,{label:"类型名称",prop:"systemTypeName",required:"","label-width":100},{default:r(()=>[o(_,{modelValue:a.systemTypeName,"onUpdate:modelValue":e[0]||(e[0]=l=>a.systemTypeName=l),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),o(n,{label:"排序号",prop:"sortId",required:"","label-width":100},{default:r(()=>[o(s,{modelValue:a.sortId,"onUpdate:modelValue":e[1]||(e[1]=l=>a.sortId=l)},null,8,["modelValue"])]),_:1}),o(n,{label:"描述信息",prop:"systemTypeDescribe"},{default:r(()=>[o(T,{placeholder:"请输入描述信息",modelValue:a.systemTypeDescribe,"onUpdate:modelValue":e[2]||(e[2]=l=>a.systemTypeDescribe=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const P=F(z,[["__scopeId","data-v-2d98a5dc"]]);export{P as default};
