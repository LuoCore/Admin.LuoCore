import{u as g}from"./index-0724e43b.js";import{d as k,r as m,z as D,o as B,a as W,c as w,w as u,b as a,Z as p,J as F,T as N,K as G,_ as h}from"./index-7c55f663.js";/* empty css              */import{A as E,x as P}from"./index-5f419692.js";import{a as Z,b as z}from"./Basic-bc49e0e2.js";import{b as A,a as J}from"./Issues-d1060287.js";import"./index2-f6244a46.js";import"./index2-0d80dea7.js";const K=k({__name:"IssuesInfoSearchForm",props:{formData:{}},emits:["update:formSearchParamUpdate"],setup(M,{expose:T,emit:d}){const i=m(),c=m([]),v=m([]),f=m([]),I=m([]),_=m([]),y={systemClientId:0,developerUserId:0,createUserId:0,issuesTypeId:0,issuesWorkTypeId:0,timeType:0,timeStart:"",timeEnd:""},e=m({...y});d("update:formSearchParamUpdate",y);function b(l){e.value.timeStart=l[0],e.value.timeEnd=l[1]}D(e,l=>{console.log("问题信息搜索参数修改触发",l),d("update:formSearchParamUpdate",l)},{deep:!0});async function U(){const l=await Z();if(!l||!l.isSuccess){p.msg((l==null?void 0:l.message)||"获取信息失败",{icon:2});return}v.value=l.responseData.map(s=>({label:s.userName,value:s.userId})),c.value=l.responseData.map(s=>({label:s.userName,value:s.userId}));const o=await A();if(!o||!o.isSuccess||!o.responseData){p.msg((o==null?void 0:o.message)||"获取信息失败",{icon:2});return}f.value=o.responseData.map(s=>({label:s.issuesTypeName,value:s.issuesTypeId}));const t=await J();if(!t||!t.isSuccess||!t.responseData){p.msg((t==null?void 0:t.message)||"获取信息失败",{icon:2});return}I.value=t.responseData.map(s=>({label:s.issuesWorkTypeName,value:s.issuesWorkTypeId}));const n=await z();if(!n||!n.isSuccess||!n.responseData){p.msg((n==null?void 0:n.message)||"获取信息失败",{icon:2});return}_.value=n.responseData.map(s=>({label:s.systemClientName,value:s.systemClientId}))}B(()=>{U()});function C(){i.value.reset(),e.value.developerUserId=0,e.value.createUserId=0,e.value.issuesTypeId=0,e.value.issuesWorkTypeId=0,e.value.timeType=0,e.value.timeStart="",e.value.timeEnd=""}return T({resetForm:C}),(l,o)=>{const t=E,n=F,s=P,V=N,x=G,S=g;return W(),w(S,null,{default:u(()=>[a(x,{ref_key:"searchFormRef",ref:i,model:e.value},{default:u(()=>[a(n,{label:"创建人员",prop:"createUserId",mode:"inline"},{default:u(()=>[a(t,{modelValue:e.value.createUserId,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value.createUserId=r),options:c.value},null,8,["modelValue","options"])]),_:1}),a(n,{label:"开发人员",prop:"developerUserId",mode:"inline"},{default:u(()=>[a(t,{modelValue:e.value.developerUserId,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value.developerUserId=r),options:v.value},null,8,["modelValue","options"])]),_:1}),a(n,{label:"问题类型",prop:"issuesTypeId",mode:"inline"},{default:u(()=>[a(t,{modelValue:e.value.issuesTypeId,"onUpdate:modelValue":o[2]||(o[2]=r=>e.value.issuesTypeId=r),options:f.value},null,8,["modelValue","options"])]),_:1}),a(n,{label:"工作流程",prop:"issuesWorkTypeId",mode:"inline"},{default:u(()=>[a(t,{modelValue:e.value.issuesWorkTypeId,"onUpdate:modelValue":o[3]||(o[3]=r=>e.value.issuesWorkTypeId=r),options:I.value},null,8,["modelValue","options"])]),_:1}),a(n,{label:"系统客户",prop:"systemClientId",mode:"inline"},{default:u(()=>[a(t,{modelValue:e.value.systemClientId,"onUpdate:modelValue":o[4]||(o[4]=r=>e.value.systemClientId=r),options:_.value},null,8,["modelValue","options"])]),_:1}),a(n,{label:"时间类型",prop:"timeType",mode:"inline",class:"timeClass"},{default:u(()=>[a(t,{modelValue:e.value.timeType,"onUpdate:modelValue":o[5]||(o[5]=r=>e.value.timeType=r),placeholder:"请选择时间类型"},{default:u(()=>[a(s,{value:1,label:"创建时间"}),a(s,{value:2,label:"开始开发时间"}),a(s,{value:3,label:"结束开发时间"})]),_:1},8,["modelValue"]),a(V,{onChange:b,range:"",type:"datetime",placeholder:["开始日期","结束日期"]})]),_:1})]),_:1},8,["model"])]),_:1})}}});const j=h(K,[["__scopeId","data-v-0dbde714"]]);export{j as default};
