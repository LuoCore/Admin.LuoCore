import{d as I,r as y,D as x,k as h,z as k,a as N,c as C,w as i,b as l,Z as p,I as B,J as E,K as S,M as U,_ as q}from"./index-7c55f663.js";import{C as F}from"./index-4b486b9e.js";import{y as O}from"./index-6ed85a75.js";import{e as j}from"./Issues-d1060287.js";const z=I({__name:"IssuesTypeEditDialog",props:{visible:{type:Boolean,default:!1},formData:{}},emits:["update:visible","done"],setup(b,{emit:c}){const r=b,u=y(),f={issuesTypeId:0,issuesTypeName:"",issuesTypeDescription:"",sortId:0,createTime:new Date},t=x({...f}),g=y({sysTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),d=h({get(){return r.visible},set(s){c("update:visible",s)}});function v(){r.formData?Object.assign(t,r.formData):Object.assign(t,f)}k(()=>r.visible,(s,e)=>{s&&v(),console.log(s,e)});function m(){var s;u.value.reset(),(s=u.value)==null||s.clearValidate(),d.value=!1}function D(){u.value.validate((s,e,_)=>{console.log("提交："+JSON.stringify(e)),s&&p.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async n=>{try{const a=await j(e);if(!a||!a.isSuccess){p.confirm(a.message||"创建用户信息失败",{icon:2});return}p.msg(a.message||"操作成功",{icon:1}),c("done"),m()}catch{}finally{p.close(n)}}})})}return(s,e)=>{const _=B,n=E,a=O,T=F,V=S,w=U;return N(),C(w,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),resize:!0,title:"问题类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>D()},{text:"关闭",callback:()=>m()}],onClose:m},{default:i(()=>[l(V,{ref_key:"refForm",ref:u,pane:!0,model:t,rules:g.value,style:{padding:"10px"}},{default:i(()=>[l(n,{label:"类型名称",prop:"issuesTypeName",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(_,{modelValue:t.issuesTypeName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.issuesTypeName=o),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),l(n,{label:"排序号",prop:"sortId",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(a,{modelValue:t.sortId,"onUpdate:modelValue":e[1]||(e[1]=o=>t.sortId=o)},null,8,["modelValue"])]),_:1}),l(n,{label:"描述信息",prop:"issuesTypeDescription"},{default:i(()=>[l(T,{placeholder:"请输入描述信息",modelValue:t.issuesTypeDescription,"onUpdate:modelValue":e[2]||(e[2]=o=>t.issuesTypeDescription=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const M=q(z,[["__scopeId","data-v-c1476e80"]]);export{M as default};
