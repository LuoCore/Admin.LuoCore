import{u as x}from"./index-3e6335ae.js";import{d as v,D as B,r as f,z as k,o as D,a as S,c as F,w as l,b as t,Z as s,M as U,N,T as R,O as A}from"./index-1ab8f9a4.js";/* empty css              */import{x as E,A as G}from"./index-47fb792e.js";import{V as P}from"./index-e066d2c0.js";import{a as Z}from"./Blogs-a16a307f.js";const J=v({__name:"ArticleSearchForm",props:{formModel:{}},emits:["update:updateParam"],setup(_,{expose:y,emit:g}){const d=_,a=B({userId:d.formModel.userId||0,categoryId:d.formModel.categoryId||0,articleTitle:d.formModel.articleTitle||"",timeType:d.formModel.timeType||0,timeStart:new Date,timeEnd:new Date}),c=f();y({resetForm:h});function T(e){a.timeStart=e[0],a.timeEnd=e[1]}k(a,e=>{g("update:updateParam",e)});const i=f([]);function p(e){const o={id:e.categoryId,title:e.categoryName,field:e.parentId,children:void 0};if(e.childrenCategorys&&e.childrenCategorys.length>0){const m=e.childrenCategorys.map(r=>p(r));o.children=m}return o}async function V(){try{const e=await Z();if(e){if(!e.isSuccess||!e.responseData){s.msg(`获取分类列表失败:${e.message}`,{icon:2});return}}else{s.msg("获取分类列表失败",{icon:2});return}e.responseData.map(o=>{i.value.push(p(o))})}catch(e){s.msg(e.message,{icon:2})}}function h(){return c.value.reset()}return D(()=>{V()}),(e,o)=>{const m=U,r=N,I=P,u=E,b=G,C=R,M=A,w=x;return S(),F(w,null,{default:l(()=>[t(M,{ref_key:"searchFormRef",ref:c,model:a},{default:l(()=>[t(r,{label:"用户Id",prop:"userId",mode:"inline"},{default:l(()=>[t(m,{modelValue:a.userId,"onUpdate:modelValue":o[0]||(o[0]=n=>a.userId=n),placeholder:"请填写","allow-clear":"",type:"number"},null,8,["modelValue"])]),_:1}),t(r,{label:"文章标题",prop:"articleTitle",mode:"inline"},{default:l(()=>[t(m,{modelValue:a.articleTitle,"onUpdate:modelValue":o[1]||(o[1]=n=>a.articleTitle=n),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),t(r,{label:"文章分类",prop:"categoryId",mode:"inline"},{default:l(()=>[t(I,{modelValue:a.categoryId,"onUpdate:modelValue":o[2]||(o[2]=n=>a.categoryId=n),data:i.value},null,8,["modelValue","data"])]),_:1}),t(r,{label:"时间类型",prop:"timeType",mode:"inline"},{default:l(()=>[t(b,{modelValue:a.timeType,"onUpdate:modelValue":o[3]||(o[3]=n=>a.timeType=n),placeholder:"请选择时间类型"},{default:l(()=>[t(u,{value:1,label:"创建时间"}),t(u,{value:2,label:"发布时间"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"时间"},{default:l(()=>[t(C,{onChange:T,range:"",type:"datetime",placeholder:["开始日期","结束日期"]})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{J as _};
