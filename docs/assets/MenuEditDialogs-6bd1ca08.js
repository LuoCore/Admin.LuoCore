import{j as H,d as G,r as g,a3 as Z,z as E,a as x,l as $,s as W,f as t,k as F,a4 as K,a5 as c,c as R,w as r,b as s,a6 as X,q as L,a7 as Y,F as ee,H as ae,n as w,t as z,x as q,a8 as le,a9 as ne,aa as se,D as te,e as O,ab as ue,Z as C,ac as oe,ad as ie,N as re,M as ce,g as de,ae as pe,V as me,O as ye,P as fe,_ as ve}from"./index-1ab8f9a4.js";import{y as ge}from"./index-8510c5d1.js";/* empty css              *//* empty css              */import{V as be}from"./index-e066d2c0.js";import{g as _e}from"./index2-6c9e33fc.js";import"./index2-e209708c.js";import"./index2-48571242.js";import"./index2-957e8c5e.js";const he={class:"layui-radio-group"},Ve=H(G({name:"LayRadioGroup",props:{modelValue:{type:[String,Boolean,Number]},name:null,disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(y,{emit:b}){const o=y,f=g(o.modelValue),_=g(o.disabled);return Z("radioGroup",{name:"LayRadioGroup",modelValue:f,naiveName:o.name,disabled:_}),E(()=>f,v=>{b("change",f.value),b("update:modelValue",f.value)},{deep:!0}),E(()=>o.modelValue,v=>f.value=v),E(()=>o.disabled,v=>_.value=v),(v,n)=>(x(),$("div",he,[W(v.$slots,"default")]))}})),Ie=["size"],ke={class:"layui-iconpicker-main"},we={class:"layui-icon-picker-clear"},Ce={class:"layui-iconpicker-suffix"},xe={class:"layui-iconpicker-view layui-iconpicker-scroll"},De={key:0,class:"layui-iconpicker-search"},Me=t("i",{class:"layui-icon layui-icon-search"},null,-1),Se={class:"layui-iconpicker-list"},Te=["onClick"],Ne={class:"layui-elip"},Be={key:1,class:"layui-iconpicker-page"},Ue={id:"layui-laypage-1",class:"layui-laypage layui-laypage-default"},ze={class:"layui-laypage-count"},$e=[t("i",{class:"layui-icon layui-icon-left"},null,-1)],je={class:"layui-laypage-curr"},qe=t("em",{class:"layui-laypage-em"},null,-1),Ee=t("span",{class:"layui-laypage-spr"},"…",-1),Fe=t("a",{href:"javascript:;",class:"layui-laypage-last",title:"尾页"},"14",-1),Ae=[t("i",{class:"layui-icon layui-icon-right"},null,-1)],Ge=H(G({name:"LayIconPicker",props:{page:{type:Boolean,default:!1},modelValue:{default:"layui-icon-face-smile"},disabled:{type:Boolean,default:!1},showSearch:{type:Boolean},allowClear:{type:Boolean},contentClass:null,contentStyle:null,size:null},emits:["update:modelValue","change"],setup(y,{emit:b}){const o=y,{size:f}=function(a){return{size:F(()=>{const e=K("LayForm",{});return a.size||e.size||"md"})}}(o),_=F(()=>o.modelValue),v=g(null),n=g(!1),N=function(){b("update:modelValue","")},j=F(()=>o.modelValue!=null&&o.modelValue!=""),m=g([]),k=g(c.length),I=g(Math.ceil(k.value/12)),d=g(1);o.page?m.value=c.slice(0,12):m.value=c;const A=()=>{const a=12*(d.value-1),e=a+12;o.page?(m.value=c.slice(a,e),k.value=c.length,I.value=Math.ceil(c.length/12)):m.value=c},B=a=>{d.value=1;const e=12*(d.value-1),u=e+12,l=a;l?o.page?(m.value=D(l,c).slice(e,u),k.value=D(l,c).length,I.value=Math.ceil(D(l,c).length/12)):m.value=D(l,c):o.page?(m.value=c.slice(e,u),k.value=c.length,I.value=Math.ceil(c.length/12)):m.value=c},D=(a,e)=>{for(var u=[],l=a.charAt(0),p=a.length,h=0;h<e.length;h++){var V=e[h],U=!1;for(var M in V)if(typeof V[M]=="function")V[M]();else{var S="";V[M]!=null&&(S=V[M]);for(var T=0;T<S.length;T++)if(S.charAt(T)==l&&S.substring(T).substring(0,p)==a){U=!0;break}}U&&u.push(V)}return u};return(a,e)=>(x(),R(se,{ref_key:"dropdownRef",ref:v,disabled:y.disabled,contentClass:y.contentClass,contentStyle:y.contentStyle,onHide:e[2]||(e[2]=u=>n.value=!1),onShow:e[3]||(e[3]=u=>n.value=!0),updateAtScroll:""},{content:r(()=>[t("div",xe,[y.showSearch?(x(),$("div",De,[s(X,{onInput:B,onClear:A,autocomplete:"true","allow-clear":!0},{prefix:r(()=>[Me]),_:1})])):L("",!0),t("div",Se,[s(Y,{style:{height:"200px"},thumbColor:"rgb(238, 238, 238)"},{default:r(()=>[t("ul",null,[(x(!0),$(ee,null,ae(m.value,u=>(x(),$("li",{key:u,class:w([z(_)===u.class?"layui-this":""]),onClick:l=>function(p){var h;b("update:modelValue",p),b("change",p),(h=v.value)==null||h.hide()}(u.class)},[t("i",{class:w(["layui-icon",[u.class]])},null,2),t("p",Ne,q(u.name),1)],10,Te))),128))])]),_:1})]),y.page?(x(),$("div",Be,[t("div",Ue,[t("span",ze,"共 "+q(k.value)+" 个",1),t("a",{href:"javascript:;",class:w(["layui-laypage-prev",[d.value===1?"layui-disabled":""]]),onClick:e[0]||(e[0]=u=>(()=>{if(d.value===1)return;d.value=d.value-1;const l=12*(d.value-1),p=l+12;m.value=c.slice(l,p)})())},$e,2),t("span",je,[qe,t("em",null,q(d.value)+" / "+q(I.value),1)]),Ee,Fe,t("a",{href:"javascript:;",class:w([[d.value===I.value?"layui-disabled":""],"layui-laypage-next"]),onClick:e[1]||(e[1]=u=>(()=>{if(d.value===I.value)return;d.value=d.value+1;const l=12*(d.value-1),p=l+12;m.value=c.slice(l,p)})())},Ae,2)])])):L("",!0)])]),default:r(()=>[t("div",{class:w(["layui-border-box layui-iconpicker layui-iconpicker-split",[{"layui-iconpicker-disabled":y.disabled,"has-content":z(j),"has-clear":y.allowClear}]]),size:z(f)},[t("div",ke,[t("i",{class:w(["layui-icon",[z(_)]])},null,2)]),t("span",we,[s(z(le),{type:"layui-icon-close-fill",onClick:ne(N,["stop"])},null,8,["onClick"])]),t("span",Ce,[t("i",{class:w(["layui-icon layui-icon-down",[n.value?"transform":""]])},null,2)])],10,Ie)]),_:1},8,["disabled","contentClass","contentStyle"]))}}));const Le=G({__name:"MenuEditDialogs",props:{visible:{type:Boolean,default:!1},isSub:{type:Boolean,default:!1},menuData:{}},emits:["update:visible","QueryTableData"],setup(y,{emit:b}){const o=y,f=g(),_=g([]),v={menuId:0,parentId:0,menuName:"",menuIcon:"",menuUrl:"",sortId:0,menuType:1,isDisable:!1},n=te({...v}),N=F({get(){return o.visible},set(a){b("update:visible",a)}});function j(a){const e={id:a.menuId,title:a.menuName,field:a.parentId,children:void 0};if(a.childrenMenus&&a.childrenMenus.length>0){const u=a.childrenMenus.map(l=>j(l));e.children=u}return e}async function m(){try{const a=await ue();if(a){if(!a.isSuccess||!a.responseData){C.msg(`获取菜单列表失败:${a.message}`,{icon:2});return}}else{C.msg("获取菜单列表失败",{icon:2});return}_.value=[{id:0,title:"父级",field:"",children:[]}],a.responseData.map(e=>{_.value[0].children.push(j(e))})}catch(a){C.msg(a.message,{icon:2})}}function k(a){n.parentId=Number(a)}function I(a){console.log("菜单类型，单选按钮切换事件处理:"+a),n.menuType=a}function d(){o.menuData?Object.assign(n,o.menuData):Object.assign(n,v)}E(()=>o.visible,(a,e)=>{a&&(d(),m()),console.log(a,e)});const A=g({label:{type:"string",required:!0,message:"菜单名称不能为空"},type:{type:"string",required:!0,message:"菜单类型不能为空"}});function B(){var a;f.value.reset(),(a=f.value)==null||a.clearValidate(),N.value=!1}function D(){f.value.validate((a,e,u)=>{console.log("提交："+JSON.stringify(e)),a&&C.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async l=>{var p=e.menuId>0?await oe({menuId:e.menuId,parentId:e.parentId,menuName:e.menuName,menuUrl:e.menuUrl,menuIcon:e.menuIcon,menuType:e.menuType,sortId:e.sortId,isDisable:e.isDisable}):await ie({parentId:e.parentId,menuName:e.menuName,menuUrl:e.menuUrl,menuIcon:e.menuIcon,menuType:e.menuType,sortId:e.sortId,isDisable:e.isDisable});p.isSuccess?(C.msg("操作成功",{icon:1}),b("QueryTableData"),B()):C.msg("操作失败！"+(p==null?void 0:p.message),{icon:2}),C.close(l)}})})}return(a,e)=>{const u=be,l=re,p=ce,h=de,V=pe,U=_e,M=Ve,S=Ge,T=ge,J=me,P=ye,Q=fe;return x(),R(Q,{modelValue:N.value,"onUpdate:modelValue":e[9]||(e[9]=i=>N.value=i),area:"600px",resize:!0,size:"md",title:"菜单编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>D()},{text:"关闭",callback:()=>B()}],onClose:B},{default:r(()=>[s(P,{ref_key:"refForm",ref:f,model:n,rules:A.value,style:{padding:"10px"}},{default:r(()=>[s(l,{label:"上级菜单",prop:"parentId",required:""},{default:r(()=>[s(u,{modelValue:n.parentId,"onUpdate:modelValue":e[0]||(e[0]=i=>n.parentId=i),"allow-clear":!0,search:!0,data:_.value,disabled:a.isSub,style:{width:"100%"},onChange:e[1]||(e[1]=i=>k(i))},null,8,["modelValue","data","disabled"])]),_:1}),s(l,{label:"菜单名称",prop:"menuName",required:""},{default:r(()=>[s(p,{modelValue:n.menuName,"onUpdate:modelValue":e[2]||(e[2]=i=>n.menuName=i),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),s(l,{prop:"menuUrl"},{label:r(()=>[O(" 路由地址 "),s(V,{content:n.menuType==0?"如果类型是菜单，需要写菜单路由":"如果类型是按钮，路由地址可以不用填写"},{default:r(()=>[s(h,{type:"layui-icon-about"})]),_:1},8,["content"])]),default:r(()=>[s(p,{modelValue:n.menuUrl,"onUpdate:modelValue":e[3]||(e[3]=i=>n.menuUrl=i),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),s(l,{label:"菜单类型",prop:"menuType",required:""},{default:r(()=>[s(M,{modelValue:n.menuType,"onUpdate:modelValue":e[4]||(e[4]=i=>n.menuType=i),name:"menuType",onChange:e[5]||(e[5]=i=>I(i))},{default:r(()=>[s(U,{value:1,label:"菜单"}),s(U,{value:2,label:"按钮"})]),_:1},8,["modelValue"])]),_:1}),s(l,{label:"菜单图标",prop:"menuIcon"},{default:r(()=>[s(S,{modelValue:n.menuIcon,"onUpdate:modelValue":e[6]||(e[6]=i=>n.menuIcon=i),"allow-clear":""},null,8,["modelValue"])]),_:1}),s(l,{label:"排序",prop:"sortId"},{default:r(()=>[s(T,{modelValue:n.sortId,"onUpdate:modelValue":e[7]||(e[7]=i=>n.sortId=i),position:"right",min:0},null,8,["modelValue"])]),_:1}),s(l,{prop:"isShow",class:"switch-fix"},{label:r(()=>[O(" 是否禁用 "),s(V,{content:"如果禁用，则不会出现在左侧菜单栏"},{default:r(()=>[s(h,{type:"layui-icon-about"})]),_:1})]),default:r(()=>[s(J,{modelValue:n.isDisable,"onUpdate:modelValue":e[8]||(e[8]=i=>n.isDisable=i),"onswitch-value":!0,"onswitch-text":"是","unswitch-value":!1,"unswitch-text":"否"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const Xe=ve(Le,[["__scopeId","data-v-46fe8b52"]]);export{Xe as default};
