import{d as T,r as y,D as w,k as x,z as h,a as I,c as N,w as i,b as l,Z as d,M as B,N as C,O as S,P as E,_ as O}from"./index-a5a9e71e.js";import{C as U}from"./index-5dca1a49.js";import{y as q}from"./index-9b77b1d7.js";import{h as F}from"./Issues-dc49d4de.js";const j=T({__name:"issuesWorkEditDialog",props:{visible:{type:Boolean,default:!1},isSub:{type:Boolean,default:!1},editData:{}},emits:["update:visible","done"],setup(b,{emit:c}){const n=b,u=y(),f={issuesWorkTypeId:0,issuesWorkTypeName:"",issuesWorkTypeDescription:"",sortId:0},o=w({...f}),k=y({sysTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),p=x({get(){return n.visible},set(s){c("update:visible",s)}});function g(){n.editData?Object.assign(o,n.editData):Object.assign(o,f)}h(()=>n.visible,(s,e)=>{s&&g(),console.log(s,e)});function m(){var s;u.value.reset(),(s=u.value)==null||s.clearValidate(),p.value=!1}function v(){u.value.validate((s,e,_)=>{console.log("提交："+JSON.stringify(e)),s&&d.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async r=>{try{const t=await F(e);if(!t||!t.isSuccess){d.confirm(t.message||"操作失败",{icon:2});return}d.msg(t.message||"操作成功",{icon:1}),c("done"),m()}catch{}finally{d.close(r)}}})})}return(s,e)=>{const _=B,r=C,t=q,D=U,V=S,W=E;return I(),N(W,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a),resize:!0,title:"问题工作类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>v()},{text:"关闭",callback:()=>m()}],onClose:m},{default:i(()=>[l(V,{ref_key:"refForm",ref:u,pane:!0,model:o,rules:k.value,style:{padding:"10px"}},{default:i(()=>[l(r,{label:"类型名称",prop:"issuesWorkTypeName",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(_,{modelValue:o.issuesWorkTypeName,"onUpdate:modelValue":e[0]||(e[0]=a=>o.issuesWorkTypeName=a),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),l(r,{label:"排序号",prop:"sortId",required:"","label-width":100,style:{width:"100%"}},{default:i(()=>[l(t,{modelValue:o.sortId,"onUpdate:modelValue":e[1]||(e[1]=a=>o.sortId=a)},null,8,["modelValue"])]),_:1}),l(r,{label:"描述信息",prop:"issuesWorkTypeDescription"},{default:i(()=>[l(D,{placeholder:"请输入描述信息",modelValue:o.issuesWorkTypeDescription,"onUpdate:modelValue":e[2]||(e[2]=a=>o.issuesWorkTypeDescription=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const M=O(j,[["__scopeId","data-v-62f149ee"]]);export{M as default};
