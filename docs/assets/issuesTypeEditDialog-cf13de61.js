import{d as x,r as y,D as I,k as N,z as h,a as k,c as B,w as n,b as l,Z as d,M as C,N as S,O as E,P as O,_ as U}from"./index-6acea29e.js";import{C as q}from"./index-bd34fa44.js";import{y as F}from"./index-69d0110e.js";import{e as j}from"./Issues-2dbf0f21.js";const z=x({__name:"issuesTypeEditDialog",props:{visible:{type:Boolean,default:!1},isSub:{type:Boolean,default:!1},editData:{}},emits:["update:visible","done"],setup(b,{emit:m}){const r=b,u=y(),_={issuesTypeId:0,issuesTypeName:"",issuesTypeDescription:"",sortId:0,createTime:new Date},a=I({..._}),g=y({sysTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),p=N({get(){return r.visible},set(s){m("update:visible",s)}});function v(){r.editData?Object.assign(a,r.editData):Object.assign(a,_)}h(()=>r.visible,(s,e)=>{s&&v(),console.log(s,e)});function c(){var s;u.value.reset(),(s=u.value)==null||s.clearValidate(),p.value=!1}function D(){u.value.validate((s,e,f)=>{console.log("提交："+JSON.stringify(e)),s&&d.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async i=>{try{const t=await j(e);if(!t||!t.isSuccess){d.confirm(t.message||"创建用户信息失败",{icon:2});return}d.msg(t.message||"操作成功",{icon:1}),m("done"),c()}catch{}finally{d.close(i)}}})})}return(s,e)=>{const f=C,i=S,t=F,T=q,V=E,w=O;return k(),B(w,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),resize:!0,title:"问题类型编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>D()},{text:"关闭",callback:()=>c()}],onClose:c},{default:n(()=>[l(V,{ref_key:"refForm",ref:u,pane:!0,model:a,rules:g.value,style:{padding:"10px"}},{default:n(()=>[l(i,{label:"类型名称",prop:"issuesTypeName",required:"","label-width":100,style:{width:"100%"}},{default:n(()=>[l(f,{modelValue:a.issuesTypeName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.issuesTypeName=o),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),l(i,{label:"排序号",prop:"sortId",required:"","label-width":100,style:{width:"100%"}},{default:n(()=>[l(t,{modelValue:a.sortId,"onUpdate:modelValue":e[1]||(e[1]=o=>a.sortId=o)},null,8,["modelValue"])]),_:1}),l(i,{label:"描述信息",prop:"issuesTypeDescription"},{default:n(()=>[l(T,{placeholder:"请输入描述信息",modelValue:a.issuesTypeDescription,"onUpdate:modelValue":e[2]||(e[2]=o=>a.issuesTypeDescription=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const P=U(z,[["__scopeId","data-v-ceb1a97a"]]);export{P as default};
