import{f as c,j as $,d as z,S as D,v as F,r as w,k as S,z as V,a as v,l as o,x as t,t as n,q as d,s as L,e as b,n as B,X as C,F as f,H as M,G as T,a9 as R,aa as U,N as q}from"./index-e2144e2e.js";const E={class:"layui-laypage layui-laypage-default"},G={style:{display:"none"}},H={key:0,class:"layui-laypage-count"},I=c("a",{class:"layui-laypage-spr"},"...",-1),A={key:0,class:"layui-laypage-curr"},J=["onClick"],X=c("a",{class:"layui-laypage-spr"},"...",-1),_={key:2,class:"layui-laypage-limits"},O=["value"],Q=[c("i",{class:"layui-icon layui-icon-refresh"},null,-1)],W={key:4,class:"layui-laypage-skip"},Y=["disabled"],Z=z({name:"LayPage",props:{total:null,limit:{default:10},theme:null,showPage:{type:Boolean,default:!1},showSkip:{type:Boolean,default:!1},showCount:{type:Boolean,default:!1},showLimit:{type:Boolean,default:!0},showInput:{type:Boolean,default:!1},showRefresh:{type:Boolean,default:!1},pages:{default:10},limits:{default:()=>[10,20,30,40,50]},modelValue:{default:1}},emits:["update:modelValue","update:limit","change"],setup(s,{emit:m}){const p=s,{t:y}=D();F();const u=w(0),N=w(p.limits),k=S(()=>Math.floor(p.pages/2)),e=w(p.modelValue),h=w(e.value),r=w(p.limit);V(()=>p.limit,()=>{r.value=p.limit});const g=S(()=>{u.value=Math.ceil(p.total/r.value);let i=[];for(let a=u.value<=p.pages?1:e.value>k.value?u.value-e.value+1<k.value?e.value-(k.value+(k.value-(u.value-e.value+1))):e.value-k.value:1;!(i.length>=p.pages||a>u.value);a++)i.push(a);return i}),x=i=>{e.value=i,C(()=>{m("change",{current:e.value,limit:r.value})})},j=()=>{e.value=h.value,C(()=>{m("change",{current:e.value,limit:r.value})})},K=()=>{const i=Math.ceil(p.total/r.value);e.value>i&&(e.value=i),C(()=>{m("change",{current:e.value,limit:r.value})})},P=()=>{m("change",{current:e.value,limit:r.value})};return V(r,()=>{m("update:limit",r.value)}),V(e,()=>{const i=g.value[0],a=g.value[g.value.length-1];e.value>a&&(e.value=a),e.value<i&&(e.value=i),h.value=e.value,m("update:modelValue",e.value)}),V(()=>p.modelValue,()=>{e.value=p.modelValue,h.value=e.value}),(i,a)=>(v(),o("div",E,[c("div",G,t(n(g)),1),s.showCount?(v(),o("span",H,t(n(y)("page.total"))+" "+t(s.total)+" "+t(n(y)("page.item")),1)):d("",!0),c("a",{href:"javascript:;",class:B(["layui-laypage-prev",[e.value===1?"layui-disabled":"",s.theme&&e.value!==1?"layui-laypage-a-"+s.theme:""]]),onClick:a[0]||(a[0]=l=>{e.value!==1&&(e.value--,C(()=>{m("change",{current:e.value,limit:r.value})}))})},[L(i.$slots,"prev",{},()=>[b(t(n(y)("page.previous")),1)])],2),s.showPage?(v(),o(f,{key:1},[n(g)[0]!=1?(v(),o(f,{key:0},[c("a",{href:"javascript:;",class:"layui-laypage-first",onClick:a[1]||(a[1]=l=>x(1))}," 1 "),I],64)):d("",!0),(v(!0),o(f,null,M(n(g),l=>(v(),o(f,{key:l},[l===e.value?(v(),o("span",A,[c("em",{class:B(["layui-laypage-em",[s.theme?"layui-bg-"+s.theme:""]])},null,2),c("em",null,t(l),1)])):(v(),o("a",{key:1,href:"javascript:;",onClick:ee=>x(l),class:B([s.theme?"layui-laypage-a-"+s.theme:""])},t(l),11,J))],64))),128)),n(g)[n(g).length-1]!=u.value?(v(),o(f,{key:1},[X,c("a",{href:"javascript:;",class:"layui-laypage-last",onClick:a[2]||(a[2]=l=>x(u.value))},t(u.value),1)],64)):d("",!0)],64)):d("",!0),c("a",{href:"javascript:;",class:B(["layui-laypage-next",[e.value===u.value||u.value===0?"layui-disabled":"",s.theme&&e.value!==u.value&&u.value!==0?"layui-laypage-a-"+s.theme:""]]),onClick:a[3]||(a[3]=l=>{e.value!==u.value&&u.value!==0&&(e.value++,C(()=>{m("change",{current:e.value,limit:r.value})}))})},[L(i.$slots,"next",{},()=>[b(t(n(y)("page.next")),1)])],2),s.showLimit?(v(),o("span",_,[T(c("select",{"onUpdate:modelValue":a[4]||(a[4]=l=>r.value=l),onChange:K},[(v(!0),o(f,null,M(N.value,l=>(v(),o("option",{key:l,value:l},t(l)+" "+t(n(y)("page.item"))+"/"+t(n(y)("page.page")),9,O))),128))],544),[[R,r.value]])])):d("",!0),s.showRefresh?(v(),o("a",{key:3,href:"javascript:;",onClick:P,class:"layui-laypage-refresh"},Q)):d("",!0),p.showSkip?(v(),o("span",W,[b(t(n(y)("page.goTo"))+" ",1),T(c("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>h.value=l),onKeypress:a[6]||(a[6]=q(l=>j(),["enter"])),type:"number",class:"layui-input layui-input-number"},null,544),[[U,h.value]]),b(t(n(y)("page.page"))+" ",1),c("button",{type:"button",class:"layui-laypage-btn",onClick:a[7]||(a[7]=l=>j()),disabled:h.value>u.value||h.value==e.value},t(n(y)("page.confirm")),9,Y)])):d("",!0)]))}}),le=$(Z);export{Z as K,le as T};
