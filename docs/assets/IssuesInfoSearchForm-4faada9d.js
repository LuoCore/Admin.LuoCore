import{u as k}from"./index-ba69cc76.js";import{d as B,r as m,z as w,o as W,a as F,c as N,w as r,b as s,Z as d,J as G,T as E,K as P,_ as Z}from"./index-303a1ef7.js";/* empty css              */import{A as $,x as h}from"./index-861849d3.js";import{a as z,b as A}from"./Basic-c4bc6bcf.js";import{b as J,a as K}from"./Issues-4bec4161.js";import"./index2-d7ffeb89.js";import"./index2-1b5c0904.js";const L=B({__name:"IssuesInfoSearchForm",props:{formData:{}},emits:["update:formSearchParamUpdate"],setup(M,{expose:U,emit:i}){const v=m(),c=new Date().toLocaleDateString(),p=m([`${c} 00:00:00`,`${c} 23:59:59`]),f=m([]),I=m([]),y=m([]),_=m([]),T=m([]),b={systemClientId:0,developerUserId:0,createUserId:0,issuesTypeId:0,issuesWorkTypeId:0,timeType:2,timeStart:p.value[0],timeEnd:p.value[1]},e=m({...b});i("update:formSearchParamUpdate",b);function V(l){e.value.timeStart=l[0],e.value.timeEnd=l[1]}w(e,l=>{i("update:formSearchParamUpdate",l)},{deep:!0});async function C(){const l=await z();if(!l||!l.isSuccess){d.msg((l==null?void 0:l.message)||"获取信息失败",{icon:2});return}I.value=l.responseData.map(o=>({label:o.userName,value:o.userId})),f.value=l.responseData.map(o=>({label:o.userName,value:o.userId}));const a=await J();if(!a||!a.isSuccess||!a.responseData){d.msg((a==null?void 0:a.message)||"获取信息失败",{icon:2});return}y.value=a.responseData.map(o=>({label:o.issuesTypeName,value:o.issuesTypeId}));const t=await K();if(!t||!t.isSuccess||!t.responseData){d.msg((t==null?void 0:t.message)||"获取信息失败",{icon:2});return}_.value=t.responseData.map(o=>({label:o.issuesWorkTypeName,value:o.issuesWorkTypeId}));const n=await A();if(!n||!n.isSuccess||!n.responseData){d.msg((n==null?void 0:n.message)||"获取信息失败",{icon:2});return}T.value=n.responseData.map(o=>({label:o.systemClientName,value:o.systemClientId}))}W(()=>{C()});function x(){var l=v.value.reset();return e.value.developerUserId=0,e.value.createUserId=0,e.value.issuesTypeId=0,e.value.issuesWorkTypeId=0,e.value.timeType=0,e.value.timeStart="",e.value.timeEnd="",l}return U({resetFormData:x}),(l,a)=>{const t=$,n=G,o=h,D=E,S=P,g=k;return F(),N(g,null,{default:r(()=>[s(S,{ref_key:"searchFormRef",ref:v,model:e.value},{default:r(()=>[s(n,{label:"创建人员",prop:"createUserId",mode:"inline"},{default:r(()=>[s(t,{modelValue:e.value.createUserId,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.createUserId=u),options:f.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"开发人员",prop:"developerUserId",mode:"inline"},{default:r(()=>[s(t,{modelValue:e.value.developerUserId,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.developerUserId=u),options:I.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"问题类型",prop:"issuesTypeId",mode:"inline"},{default:r(()=>[s(t,{modelValue:e.value.issuesTypeId,"onUpdate:modelValue":a[2]||(a[2]=u=>e.value.issuesTypeId=u),options:y.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"工作流程",prop:"issuesWorkTypeId",mode:"inline"},{default:r(()=>[s(t,{modelValue:e.value.issuesWorkTypeId,"onUpdate:modelValue":a[3]||(a[3]=u=>e.value.issuesWorkTypeId=u),options:_.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"系统客户",prop:"systemClientId",mode:"inline"},{default:r(()=>[s(t,{modelValue:e.value.systemClientId,"onUpdate:modelValue":a[4]||(a[4]=u=>e.value.systemClientId=u),options:T.value},null,8,["modelValue","options"])]),_:1}),s(n,{label:"时间类型",prop:"timeType",mode:"inline",class:"timeClass"},{default:r(()=>[s(t,{modelValue:e.value.timeType,"onUpdate:modelValue":a[5]||(a[5]=u=>e.value.timeType=u),placeholder:"请选择时间类型"},{default:r(()=>[s(o,{value:1,label:"创建时间"}),s(o,{value:2,label:"开始开发时间"}),s(o,{value:3,label:"结束开发时间"})]),_:1},8,["modelValue"]),s(D,{onChange:V,modelValue:p.value,"onUpdate:modelValue":a[6]||(a[6]=u=>p.value=u),range:"",type:"datetime",placeholder:["开始日期","结束日期"]},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})}}});const ae=Z(L,[["__scopeId","data-v-a44a6150"]]);export{ae as default};
