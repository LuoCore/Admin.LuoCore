import{d as I,r as y,D as k,k as w,z as S,a as N,c as E,w as i,b as o,Z as d,I as h,J as B,K as U,M as q,_ as F}from"./index-7c55f663.js";import{C as j}from"./index-4b486b9e.js";import{y as z}from"./index-6ed85a75.js";import{E as O}from"./Basic-bc49e0e2.js";const Z=I({__name:"SystemClientEditDialog",props:{visible:{type:Boolean,default:!1},formData:{}},emits:["update:visible","done"],setup(b,{emit:p}){const r=b,m=y(),f={systemClientId:0,systemClientName:"",systemClientDescription:"",sortId:0},s=k({...f}),C=y({systemTypeName:{type:"string",required:!0,message:"系统类型名称不能为空"}}),u=w({get(){return r.visible},set(t){p("update:visible",t)}});function v(){r.formData?Object.assign(s,r.formData):Object.assign(s,f)}S(()=>r.visible,(t,e)=>{t&&v(),console.log(t,e)});function c(){var t;m.value.reset(),(t=m.value)==null||t.clearValidate(),u.value=!1}function g(){m.value.validate((t,e,_)=>{t&&d.msg("正在提交数据...",{icon:16,time:0,shade:!0,success:async n=>{try{const a=await O(e);if(!a||!a.isSuccess){d.confirm(a.message||"创建用户信息失败",{icon:2});return}d.msg(a.message||"操作成功",{icon:1}),p("done"),c()}catch{}finally{d.close(n)}}})})}return(t,e)=>{const _=h,n=B,a=z,D=j,V=U,x=q;return N(),E(x,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l),resize:!0,title:"系统客户编辑","shade-close":!1,move:!0,maxmin:!0,btnAlign:"c",btn:[{text:"提交",callback:()=>g()},{text:"关闭",callback:()=>c()}],onClose:c},{default:i(()=>[o(V,{ref_key:"refForm",ref:m,pane:!0,model:s,rules:C.value,style:{padding:"10px"}},{default:i(()=>[o(n,{label:"系统客户名称",prop:"systemClientName",required:"","label-position":"top"},{default:i(()=>[o(_,{modelValue:s.systemClientName,"onUpdate:modelValue":e[0]||(e[0]=l=>s.systemClientName=l),placeholder:"请填写","allow-clear":""},null,8,["modelValue"])]),_:1}),o(n,{label:"排序号",prop:"sortId",required:"","label-width":100},{default:i(()=>[o(a,{modelValue:s.sortId,"onUpdate:modelValue":e[1]||(e[1]=l=>s.sortId=l)},null,8,["modelValue"])]),_:1}),o(n,{label:"描述信息",prop:"systemClientDescription"},{default:i(()=>[o(D,{placeholder:"请输入描述信息",modelValue:s.systemClientDescription,"onUpdate:modelValue":e[2]||(e[2]=l=>s.systemClientDescription=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","btn"])}}});const R=F(Z,[["__scopeId","data-v-62f3c626"]]);export{R as default};
